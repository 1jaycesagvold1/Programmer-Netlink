<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Programer Netlink - Profile</title>
</head>
<body>


      <div class="tab-bar">
        <a href="http://127.0.0.1:5500/.app/app.html"><b>Home</b></a>
        <a href="http://127.0.0.1:5500/profile/snippits/user-snippts.html"><b>Snippits</b></a>
        <a href="http://127.0.0.1:5500/profile/articles/display-articles.html"><b>Articles</b></a>
        <a href="http://127.0.0.1:5500/profile/settings/profile-settings.html"><b>Profile Settings</b></a>
      </div>

      <div class="display-basic-user-content">
        <h2><span id="user-name"></span></h2>
        <h3><span id="username"></span></h3>

        <script>
        const storedName = localStorage.getItem('user-name');
        const userNameElem = document.querySelector('#user-name');
      
        if (storedName) {
          userNameElem.textContent = storedName;
          const profileLink = document.createElement('h2');
          profileLink.href = 'https://programmernetlink.com/profile/' + storedName;

          userNameElem.insertAdjacentElement('afterend', profileLink);
        } else {
          userNameElem.textContent = 'error - Programmer Netlink';
        }
        
        </script>
      </div>

      <div class="username">
        <h3><span id="username"></span></h3>
        <script>
          const storedUsername = localStorage.getItem('username');
          const usernameElem = document.querySelector('#username');

          if (storedUsername) {
            usernameElem.textContent = `@${storedUsername}`; // adding '@' before storedUsername
          } else {
            usernameElem.textContent = 'No username found in local storage';
          }

        </script>
      </div>

<div class="follower-class">
  <h3>Followers: <span id="follower-count">0</span></h3>
</div>

<button id="follow-button">Follow</button>
<button id="unfollow-button" style="display:none">Unfollow</button>

  <!-- <div class="user-post-header">
    <h2>Snippits <span id="user-name"></span></h2>
    <p>Snippits are like 'posts'.</p>
  </div> -->

  <div class="description-header">
		<h2>Description:</h2>
	</div>
	<div>
		<p id="description-text"></p>
		<button id="create-description-btn">Update Description</button>
	  </div>
	  
	  <div id="description-modal" style="display: none">
		<label for="new-description">Enter description:</label>
		<input type="text" id="new-description">
		<button id="save-description-btn">Update Description</button>
		<button id="cancel-description-btn">Abort</button>
	  </div>
	  
	  <script>
		const descriptionText = document.getElementById("description-text");
		const createDescriptionBtn = document.getElementById("create-description-btn");
		const descriptionModal = document.getElementById("description-modal");
		const saveDescriptionBtn = document.getElementById("save-description-btn");
		const cancelDescriptionBtn = document.getElementById("cancel-description-btn");
		const maxChars = 150;
	  
		// Load description from local storage
		const description = localStorage.getItem("description");
		if (description) {
		  descriptionText.textContent = description;
		}
	  
		// Open description modal
		createDescriptionBtn.addEventListener("click", () => {
		  descriptionModal.style.display = "block";
		  document.getElementById("new-description").value = description || "";
		});
	  
		// Save description
		saveDescriptionBtn.addEventListener("click", () => {
		  const newDescription = document.getElementById("new-description").value;
		  const charCount = newDescription.length;
	  
		  if (charCount > 150) {
			alert(`Description exceeds maximum length by ${charCount - 150} characters. The description character length needs to be 150 characters`);
		  } else {
			localStorage.setItem("description", newDescription);
			descriptionText.textContent = newDescription;
			descriptionModal.style.display = "none";
		  }
		});
	  
		// Cancel editing description
		cancelDescriptionBtn.addEventListener("click", () => {
		  descriptionModal.style.display = "none";
		});
	  
		// Edit description
		descriptionText.addEventListener("click", () => {
		  descriptionModal.style.display = "block";
		  document.getElementById("new-description").value = descriptionText.textContent || "";
		});
	  </script>
</div>

  <div class="snippits-redirect-link">
    <h2>Created Masterpeices</h2>
    <h3>See the user's Snipits  and Articles.</h3>
  </div>

  <div class="button-1">
    <button onclick="window.location.href='http://127.0.0.1:5500/profile/snippits/user-snippts.html'">See Snippits</button>
  </div>

  <div class="button-2">
    <button onclick="window.location.href='http://127.0.0.1:5500/profile/articles/display-articles.html'">See Articles</button>
  </div>


</body>
<script src="script.js"></script>
</html>
